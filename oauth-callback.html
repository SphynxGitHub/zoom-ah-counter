<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="zoom-domain-verification" content="ZOOM_verify_8e7da749a3f44cfcaf76952eb3e792f9">
<title>Returning to Zoom…</title>
<style>
body {
  font-family: sans-serif;
  text-align: center;
  margin-top: 2.5rem;
}
#reopenBtn {
  background:#0E71EB;
  color:white;
  padding:10px 18px;
  border-radius:8px;
  font-size:15px;
  font-weight:600;
  border:none;
  cursor:pointer;
  margin-top:15px;
}
</style>
</head>
<body>

<h2>Authorization Complete ✅</h2>
<p>You can now open the app inside Zoom.</p>

<button id="reopenBtn">
  Open in Zoom
</button>

<p style="margin-top:10px;font-size:14px;">
If nothing happens, go to Zoom → Apps → Toastmasters Ah-Counter
</p>

<script src="https://source.zoom.us/zoomapps/1.1.0/lib.js"></script>
<script>
async function openInZoom() {
  try {
    await zoomSdk.config({
      capabilities: ["openUrl"]
    });

    await zoomSdk.openUrl({
      url: "https://marketplace.zoom.us/zoomapp/vt8JWGG5SBmzU2gidUgi5A/context/panel/target/launch/deeplink",
      context: "inClient"
    });
  } catch (e) {
    console.error("openUrl failed:", e);
    alert("Please open this inside Zoom: Click Apps > Toastmasters Ah-Counter");
  }
}

document.getElementById("reopenBtn")
  .addEventListener("click", openInZoom);
</script>

</body>
</html>
